build --cxxopt -w

build --host_force_python=PY3
build --host_javabase=@bazel_tools//tools/jdk:absolute_javabase --define=ABSOLUTE_JAVABASE=/etc/alternatives/java_sdk/
build --verbose_failures

# Test flags
build --test_env=ENVOY_IP_TEST_VERSIONS=v4only
build --test_env=HEAPCHECK=minimal
build --test_output=all

# Arch-specific build flags, triggered with --config=$ARCH in bazel build command
build:x86_64 --linkopt=-fuse-ld=lld
build:s390x --@envoy//source/extensions/filters/common/lua:luajit2=1 --cxxopt='-includeoptional' --copt=-Wno-error=type-limits --copt=-Wno-error=uninitialized --linkopt=-fuse-ld=gold
build:ppc --linkopt=-fuse-ld=lld --@envoy//source/extensions/filters/common/lua:luajit2=1
build:aarch64 --linkopt=-fuse-ld=lld

# Import vendor flags
import %workspace%/maistra/bazelrc-vendor
